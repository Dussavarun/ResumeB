<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Professional Resume Builder</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Playfair+Display:wght@700&display=swap');
        
        body {
            font-family: 'Inter', sans-serif;
        }
        
        .resume-preview {
            transform-origin: top left;
            width: 850px;
            min-height: 1100px;
            background: white;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        
        .preview-container {
            transform: scale(0.85);
            height: fit-content;
        }
        
        .form-input {
            @apply w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm;
        }
        
        .form-label {
            @apply block text-sm font-semibold text-gray-700 mb-1;
        }
        
        .section-card {
            @apply bg-white rounded-lg shadow-sm border border-gray-200 p-4 mb-4;
        }
        
        .btn-primary {
            @apply px-4 py-2 bg-blue-600 text-white rounded-md text-sm font-medium hover:bg-blue-700 transition-colors;
        }
        
        .btn-secondary {
            @apply px-4 py-2 bg-gray-200 text-gray-700 rounded-md text-sm font-medium hover:bg-gray-300 transition-colors;
        }
        
        .btn-danger {
            @apply px-3 py-2 bg-red-100 text-red-600 rounded-md text-sm hover:bg-red-200 transition-colors;
        }

        /* Print Styles */
        @media print {
            @page {
                size: A4;
                margin: 0;
            }
            body * {
                visibility: hidden;
            }
            #resumePreview, #resumePreview * {
                visibility: visible;
            }
            #resumePreview {
                position: absolute;
                left: 0;
                top: 0;
                transform: none !important;
                box-shadow: none !important;
            }
            .preview-container {
                transform: none !important;
            }
        }
    </style>
</head>
<body class="bg-gray-50">
    <div class="flex min-h-screen">
        <!-- Left Panel - Form Editor -->
        <div class="w-1/2 bg-white border-r border-gray-200 overflow-y-auto" style="max-height: 100vh;">
            <div class="p-6">
                <!-- Header -->
                <div class="mb-6 sticky top-0 bg-white z-10 pb-4 border-b">
                    <h1 class="text-3xl font-bold text-gray-900 mb-2">Resume Builder</h1>
                    <p class="text-gray-600 text-sm mb-4">Fill in your details to create a professional resume</p>
                    
                    <!-- Template Selector -->
                    <div>
                        <label class="form-label">Choose Template</label>
                        <select id="templateSelector" class="form-input">
                            <option value="classic">Classic Professional</option>
                            <option value="modern">Modern Minimalist</option>
                            <option value="creative">Creative Two-Column</option>
                            <option value="executive">Executive Bold</option>
                            <option value="tech">Tech Industry</option>
                        </select>
                    </div>
                </div>

                <form id="resumeForm">
                    <!-- Personal Information -->
                    <div class="section-card">
                        <h2 class="text-xl font-bold text-gray-900 mb-4">Personal Information</h2>
                        <div class="space-y-3">
                            <div>
                                <label class="form-label">Full Name *</label>
                                <input type="text" name="name" class="form-input" placeholder="John Doe" required>
                            </div>
                            <div>
                                <label class="form-label">Professional Title *</label>
                                <input type="text" name="title" class="form-input" placeholder="Software Engineer" required>
                            </div>
                            <div class="grid grid-cols-2 gap-3">
                                <div>
                                    <label class="form-label">Email *</label>
                                    <input type="email" name="email" class="form-input" placeholder="john@example.com" required>
                                </div>
                                <div>
                                    <label class="form-label">Phone *</label>
                                    <input type="tel" name="phone" class="form-input" placeholder="123-456-7890" required>
                                </div>
                            </div>
                            <div>
                                <label class="form-label">Website/Portfolio</label>
                                <input type="text" name="website" class="form-input" placeholder="www.johndoe.com">
                            </div>
                            <div class="grid grid-cols-2 gap-3">
                                <div>
                                    <label class="form-label">LinkedIn</label>
                                    <input type="text" name="linkedin" class="form-input" placeholder="linkedin.com/in/johndoe">
                                </div>
                                <div>
                                    <label class="form-label">GitHub</label>
                                    <input type="text" name="github" class="form-input" placeholder="github.com/johndoe">
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Professional Summary -->
                    <div class="section-card">
                        <h2 class="text-xl font-bold text-gray-900 mb-4">Professional Summary</h2>
                        <textarea name="summary" rows="4" class="form-input" placeholder="Write a brief summary about yourself, your expertise, and career goals. Keep it concise and impactful (3-5 sentences)."></textarea>
                    </div>

                    <!-- Work Experience -->
                    <div class="section-card">
                        <div class="flex justify-between items-center mb-4">
                            <h2 class="text-xl font-bold text-gray-900">Work Experience</h2>
                            <button type="button" onclick="addExperience()" class="btn-primary">+ Add Job</button>
                        </div>
                        <div id="experienceContainer"></div>
                    </div>

                    <!-- Education -->
                    <div class="section-card">
                        <div class="flex justify-between items-center mb-4">
                            <h2 class="text-xl font-bold text-gray-900">Education</h2>
                            <button type="button" onclick="addEducation()" class="btn-primary">+ Add Education</button>
                        </div>
                        <div id="educationContainer"></div>
                    </div>

                    <!-- Skills -->
                    <div class="section-card">
                        <h2 class="text-xl font-bold text-gray-900 mb-4">Technical Skills</h2>
                        <div>
                            <label class="form-label">Skills (comma separated)</label>
                            <textarea name="skills" rows="3" class="form-input" placeholder="JavaScript, Python, React, Node.js, SQL, Git, AWS, Docker"></textarea>
                            <p class="text-xs text-gray-500 mt-1">Separate each skill with a comma</p>
                        </div>
                    </div>

                    <!-- Certifications -->
                    <div class="section-card">
                        <div class="flex justify-between items-center mb-4">
                            <h2 class="text-xl font-bold text-gray-900">Certifications</h2>
                            <button type="button" onclick="addCertification()" class="btn-primary">+ Add</button>
                        </div>
                        <div id="certificationContainer"></div>
                    </div>

                    <!-- Languages -->
                    <div class="section-card">
                        <h2 class="text-xl font-bold text-gray-900 mb-4">Languages</h2>
                        <div>
                            <label class="form-label">Languages (comma separated)</label>
                            <input type="text" name="languages" class="form-input" placeholder="English (Native), Spanish (Fluent), French (Basic)">
                            <p class="text-xs text-gray-500 mt-1">Include proficiency level in parentheses</p>
                        </div>
                    </div>

                    <!-- Action Buttons -->
                    <div class="flex gap-3 mt-6 mb-8">
                        <button type="button" onclick="exportPDF()" class="flex-1 px-6 py-3 bg-green-600 text-white rounded-md font-semibold hover:bg-green-700 transition-colors">
                            üìÑ Download PDF
                        </button>
                        <button type="button" onclick="saveData()" class="flex-1 px-6 py-3 bg-blue-600 text-white rounded-md font-semibold hover:bg-blue-700 transition-colors">
                            üíæ Save Draft
                        </button>
                        <button type="button" onclick="resetForm()" class="px-6 py-3 bg-gray-200 text-gray-700 rounded-md font-semibold hover:bg-gray-300 transition-colors">
                            üîÑ Reset
                        </button>
                    </div>
                </form>
            </div>
        </div>

        <!-- Right Panel - Live Preview -->
        <div class="w-1/2 bg-gray-100 overflow-y-auto p-6" style="max-height: 100vh;">
            <div class="flex justify-center">
                <div class="preview-container">
                    <div id="resumePreview" class="resume-preview"></div>
                </div>
            </div>
        </div>
    </div>

    <script>
        let experienceCount = 0;
        let educationCount = 0;
        let certificationCount = 0;

        // Add Experience Entry
        function addExperience() {
            experienceCount++;
            const container = document.getElementById('experienceContainer');
            const div = document.createElement('div');
            div.className = 'border border-gray-200 rounded-lg p-4 mb-3 bg-gray-50';
            div.id = `experience-${experienceCount}`;
            div.innerHTML = `
                <div class="flex justify-between items-center mb-3">
                    <h3 class="font-semibold text-gray-700">Job #${experienceCount}</h3>
                    <button type="button" onclick="removeElement('experience-${experienceCount}')" class="text-red-600 text-sm hover:text-red-800 font-medium">‚úï Remove</button>
                </div>
                <div class="space-y-2">
                    <input type="text" name="exp_title_${experienceCount}" class="form-input" placeholder="Job Title (e.g., Senior Software Engineer)" required>
                    <input type="text" name="exp_company_${experienceCount}" class="form-input" placeholder="Company Name" required>
                    <div class="grid grid-cols-2 gap-2">
                        <input type="text" name="exp_period_${experienceCount}" class="form-input" placeholder="Jan 2020 - Present">
                        <input type="text" name="exp_location_${experienceCount}" class="form-input" placeholder="City, State">
                    </div>
                    <textarea name="exp_achievements_${experienceCount}" rows="4" class="form-input" placeholder="Key achievements and responsibilities (one per line):&#10;‚Ä¢ Led team of 5 developers&#10;‚Ä¢ Improved performance by 40%&#10;‚Ä¢ Implemented new feature"></textarea>
                </div>
            `;
            container.appendChild(div);
            updatePreview();
        }

        // Add Education Entry
        function addEducation() {
            educationCount++;
            const container = document.getElementById('educationContainer');
            const div = document.createElement('div');
            div.className = 'border border-gray-200 rounded-lg p-4 mb-3 bg-gray-50';
            div.id = `education-${educationCount}`;
            div.innerHTML = `
                <div class="flex justify-between items-center mb-3">
                    <h3 class="font-semibold text-gray-700">Education #${educationCount}</h3>
                    <button type="button" onclick="removeElement('education-${educationCount}')" class="text-red-600 text-sm hover:text-red-800 font-medium">‚úï Remove</button>
                </div>
                <div class="space-y-2">
                    <input type="text" name="edu_degree_${educationCount}" class="form-input" placeholder="Degree Name (e.g., Bachelor of Science in Computer Science)" required>
                    <input type="text" name="edu_school_${educationCount}" class="form-input" placeholder="School/University Name" required>
                    <div class="grid grid-cols-2 gap-2">
                        <input type="text" name="edu_period_${educationCount}" class="form-input" placeholder="2015 - 2019">
                        <input type="text" name="edu_gpa_${educationCount}" class="form-input" placeholder="GPA: 3.8/4.0">
                    </div>
                    <textarea name="edu_details_${educationCount}" rows="2" class="form-input" placeholder="Additional details (one per line):&#10;‚Ä¢ Dean's List all semesters&#10;‚Ä¢ Relevant coursework: Data Structures, AI"></textarea>
                </div>
            `;
            container.appendChild(div);
            updatePreview();
        }

        // Add Certification Entry
        function addCertification() {
            certificationCount++;
            const container = document.getElementById('certificationContainer');
            const div = document.createElement('div');
            div.className = 'flex gap-2 mb-2';
            div.id = `certification-${certificationCount}`;
            div.innerHTML = `
                <input type="text" name="cert_${certificationCount}" class="form-input" placeholder="Certification Name (e.g., AWS Certified Solutions Architect)">
                <button type="button" onclick="removeElement('certification-${certificationCount}')" class="btn-danger">‚úï</button>
            `;
            container.appendChild(div);
            updatePreview();
        }

        // Remove Element
        function removeElement(id) {
            const element = document.getElementById(id);
            if (element) {
                element.remove();
                updatePreview();
            }
        }

        // Collect Form Data
        function collectFormData() {
            const formData = new FormData(document.getElementById('resumeForm'));
            
            const data = {
                personal: {
                    name: formData.get('name') || 'Your Name',
                    title: formData.get('title') || 'Your Professional Title',
                    email: formData.get('email') || 'your@email.com',
                    phone: formData.get('phone') || '123-456-7890',
                    website: formData.get('website') || 'www.yourwebsite.com',
                    linkedin: formData.get('linkedin') || 'linkedin.com/in/yourprofile',
                    github: formData.get('github') || 'github.com/yourprofile'
                },
                summary: formData.get('summary') || 'Your professional summary goes here. Describe your experience, skills, and career objectives in 3-5 compelling sentences.',
                experience: [],
                education: [],
                skills: {
                    technical: formData.get('skills') ? formData.get('skills').split(',').map(s => s.trim()).filter(s => s) : []
                },
                certifications: [],
                languages: formData.get('languages') ? formData.get('languages').split(',').map(l => l.trim()).filter(l => l) : []
            };

            // Collect Experience
            for (let i = 1; i <= experienceCount; i++) {
                const title = formData.get(`exp_title_${i}`);
                const company = formData.get(`exp_company_${i}`);
                if (title && company) {
                    const achievements = formData.get(`exp_achievements_${i}`);
                    data.experience.push({
                        title: title,
                        company: company,
                        period: formData.get(`exp_period_${i}`) || 'Date - Date',
                        location: formData.get(`exp_location_${i}`) || 'Location',
                        achievements: achievements ? achievements.split('\n').map(a => a.trim().replace(/^[‚Ä¢\-\*]\s*/, '')).filter(a => a) : []
                    });
                }
            }

            // Collect Education
            for (let i = 1; i <= educationCount; i++) {
                const degree = formData.get(`edu_degree_${i}`);
                const school = formData.get(`edu_school_${i}`);
                if (degree && school) {
                    const details = formData.get(`edu_details_${i}`);
                    data.education.push({
                        degree: degree,
                        school: school,
                        period: formData.get(`edu_period_${i}`) || 'Date - Date',
                        gpa: formData.get(`edu_gpa_${i}`) || '',
                        details: details ? details.split('\n').map(d => d.trim().replace(/^[‚Ä¢\-\*]\s*/, '')).filter(d => d) : []
                    });
                }
            }

            // Collect Certifications
            for (let i = 1; i <= certificationCount; i++) {
                const cert = formData.get(`cert_${i}`);
                if (cert && cert.trim()) {
                    data.certifications.push(cert.trim());
                }
            }

            return data;
        }

        // Resume Templates
        const templates = {
            classic: (data) => `
                <div class="bg-white px-12 py-10">
                    <div class="text-center border-b-4 border-indigo-600 pb-6 mb-8">
                        <h1 class="text-4xl font-bold text-gray-900 mb-2">${data.personal.name}</h1>
                        <p class="text-lg text-indigo-600 font-semibold mb-3">${data.personal.title}</p>
                        <p class="text-sm text-gray-600">
                            ${data.personal.phone} ‚Ä¢ ${data.personal.email} ‚Ä¢ ${data.personal.website}
                        </p>
                    </div>

                    ${data.summary ? `
                    <section class="mb-8">
                        <h2 class="text-xl font-bold text-indigo-700 uppercase mb-3 border-b-2 border-indigo-600 pb-1">Professional Summary</h2>
                        <p class="text-gray-700 text-sm leading-relaxed">${data.summary}</p>
                    </section>
                    ` : ''}

                    ${data.experience.length > 0 ? `
                    <section class="mb-8">
                        <h2 class="text-xl font-bold text-indigo-700 uppercase mb-4 border-b-2 border-indigo-600 pb-1">Work Experience</h2>
                        ${data.experience.map(job => `
                            <div class="mb-5">
                                <div class="flex justify-between items-baseline mb-2">
                                    <div>
                                        <h3 class="font-bold text-gray-900 text-base">${job.title}</h3>
                                        <p class="text-gray-600 text-sm">${job.company} | ${job.location}</p>
                                    </div>
                                    <span class="text-gray-600 text-sm font-medium">${job.period}</span>
                                </div>
                                ${job.achievements.length > 0 ? `
                                <ul class="list-disc ml-5 space-y-1">
                                    ${job.achievements.map(achievement => `
                                        <li class="text-gray-700 text-sm">${achievement}</li>
                                    `).join('')}
                                </ul>
                                ` : ''}
                            </div>
                        `).join('')}
                    </section>
                    ` : ''}

                    ${data.education.length > 0 ? `
                    <section class="mb-8">
                        <h2 class="text-xl font-bold text-indigo-700 uppercase mb-4 border-b-2 border-indigo-600 pb-1">Education</h2>
                        ${data.education.map(edu => `
                            <div class="mb-4">
                                <div class="flex justify-between items-baseline mb-1">
                                    <h3 class="font-bold text-gray-900 text-base">${edu.degree}</h3>
                                    <span class="text-gray-600 text-sm">${edu.period}</span>
                                </div>
                                <p class="text-gray-600 text-sm mb-2">${edu.school}${edu.gpa ? ` | ${edu.gpa}` : ''}</p>
                                ${edu.details.length > 0 ? `
                                <ul class="list-disc ml-5 space-y-1">
                                    ${edu.details.map(detail => `<li class="text-gray-700 text-sm">${detail}</li>`).join('')}
                                </ul>
                                ` : ''}
                            </div>
                        `).join('')}
                    </section>
                    ` : ''}

                    <section class="mb-8">
                        <h2 class="text-xl font-bold text-indigo-700 uppercase mb-3 border-b-2 border-indigo-600 pb-1">Skills & Additional Information</h2>
                        ${data.skills.technical.length > 0 ? `
                        <div class="mb-3">
                            <span class="font-semibold text-gray-800 text-sm">Technical Skills: </span>
                            <span class="text-gray-700 text-sm">${data.skills.technical.join(', ')}</span>
                        </div>
                        ` : ''}
                        ${data.certifications.length > 0 ? `
                        <div class="mb-3">
                            <span class="font-semibold text-gray-800 text-sm">Certifications: </span>
                            <span class="text-gray-700 text-sm">${data.certifications.join(', ')}</span>
                        </div>
                        ` : ''}
                        ${data.languages.length > 0 ? `
                        <div>
                            <span class="font-semibold text-gray-800 text-sm">Languages: </span>
                            <span class="text-gray-700 text-sm">${data.languages.join(', ')}</span>
                        </div>
                        ` : ''}
                    </section>
                </div>
            `,

            modern: (data) => `
                <div class="bg-white">
                    <div class="bg-gradient-to-r from-slate-800 to-slate-600 px-12 py-10 text-white">
                        <h1 class="text-5xl font-bold mb-2">${data.personal.name}</h1>
                        <p class="text-xl font-light mb-4">${data.personal.title}</p>
                        <div class="flex flex-wrap gap-4 text-sm">
                            <span>üìß ${data.personal.email}</span>
                            <span>üì± ${data.personal.phone}</span>
                            <span>üåê ${data.personal.website}</span>
                        </div>
                    </div>

                    <div class="px-12 py-10">
                        ${data.summary ? `
                        <section class="mb-10">
                            <p class="text-gray-700 text-base leading-relaxed italic border-l-4 border-slate-600 pl-4">${data.summary}</p>
                        </section>
                        ` : ''}

                        ${data.experience.length > 0 ? `
                        <section class="mb-10">
                            <h2 class="text-2xl font-bold text-slate-800 mb-6 flex items-center">
                                <span class="w-2 h-8 bg-slate-600 mr-3"></span>Experience
                            </h2>
                            ${data.experience.map(job => `
                                <div class="mb-6 pl-5 border-l-2 border-gray-200">
                                    <div class="flex justify-between items-start mb-2">
                                        <div>
                                            <h3 class="font-bold text-gray-900 text-lg">${job.title}</h3>
                                            <p class="text-slate-600 font-medium">${job.company}</p>
                                        </div>
                                        <div class="text-right">
                                            <p class="text-slate-600 text-sm font-medium">${job.period}</p>
                                            <p class="text-gray-500 text-sm">${job.location}</p>
                                        </div>
                                    </div>
                                    ${job.achievements.length > 0 ? `
                                    <ul class="space-y-2 mt-3">
                                        ${job.achievements.map(achievement => `
                                            <li class="text-gray-700 text-sm flex items-start">
                                                <span class="text-slate-600 mr-2">‚ñ™</span>
                                                <span>${achievement}</span>
                                            </li>
                                        `).join('')}
                                    </ul>
                                    ` : ''}
                                </div>
                            `).join('')}
                        </section>
                        ` : ''}

                        <div class="grid grid-cols-2 gap-8 mb-10">
                            ${data.education.length > 0 ? `
                            <section>
                                <h2 class="text-2xl font-bold text-slate-800 mb-4 flex items-center">
                                    <span class="w-2 h-8 bg-slate-600 mr-3"></span>Education
                                </h2>
                                ${data.education.map(edu => `
                                    <div class="mb-4">
                                        <h3 class="font-bold text-gray-900">${edu.degree}</h3>
                                        <p class="text-slate-600 text-sm">${edu.school}</p>
                                        <p class="text-gray-500 text-sm">${edu.period}</p>
                                    </div>
                                `).join('')}
                            </section>
                            ` : ''}

                            ${data.skills.technical.length > 0 ? `
                            <section>
                                <h2 class="text-2xl font-bold text-slate-800 mb-4 flex items-center">
                                    <span class="w-2 h-8 bg-slate-600 mr-3"></span>Skills
                                </h2>
                                <div class="space-y-3">
                                    ${data.skills.technical.map(skill => `
                                        <div class="flex items-center">
                                            <span class="w-2 h-2 bg-slate-600 rounded-full mr-2"></span>
                                            <span class="text-gray-700 text-sm">${skill}</span>
                                        </div>
                                    `).join('')}
                                </div>
                            </section>
                            ` : ''}
                        </div>

                        ${data.certifications.length > 0 || data.languages.length > 0 ? `
                        <div class="grid grid-cols-2 gap-8">
                            ${data.certifications.length > 0 ? `
                            <section>
                                <h2 class="text-xl font-bold text-slate-800 mb-3">Certifications</h2>
                                <ul class="space-y-2">
                                    ${data.certifications.map(cert => `
                                        <li class="text-gray-700 text-sm">‚úì ${cert}</li>
                                    `).join('')}
                                </ul>
                            </section>
                            ` : ''}
                            ${data.languages.length > 0 ? `
                            <section>
                                <h2 class="text-xl font-bold text-slate-800 mb-3">Languages</h2>
                                <ul class="space-y-2">
                                    ${data.languages.map(lang => `
                                        <li class="text-gray-700 text-sm">${lang}</li>
                                    `).join('')}
                                </ul>
                            </section>
                            ` : ''}
                        </div>
                        ` : ''}
                    </div>
                </div>
            `,

            creative: (data) => `
                <div class="bg-white flex">
                    <div class="w-1/3 bg-gradient-to-b from-purple-900 to-purple-700 text-white px-8 py-10">
                        <div class="mb-8">
                            <h1 class="text-3xl font-bold mb-1">${data.personal.name.split(' ')[0]}</h1>
                            <h1 class="text-3xl font-bold mb-3">${data.personal.name.split(' ').slice(1).join(' ')}</h1>
                            <p class="text-purple-200 text-sm font-medium">${data.personal.title}</p>
                        </div>

                        <section class="mb-8">
                            <h2 class="text-lg font-bold mb-3 pb-2 border-b border-purple-400">CONTACT</h2>
                            <div class="space-y-2 text-sm break-words">
                                <p>${data.personal.email}</p>
                                <p>${data.personal.phone}</p>
                                <p>${data.personal.website}</p>
                                ${data.personal.linkedin !== 'linkedin.com/in/yourprofile' ? `<p>${data.personal.linkedin}</p>` : ''}
                            </div>
                        </section>

                        ${data.skills.technical.length > 0 ? `
                        <section class="mb-8">
                            <h2 class="text-lg font-bold mb-3 pb-2 border-b border-purple-400">SKILLS</h2>
                            <div class="space-y-2">
                                ${data.skills.technical.map(skill => `
                                    <div>
                                        <p class="text-sm mb-1">${skill}</p>
                                        <div class="w-full bg-purple-800 rounded-full h-1.5">
                                            <div class="bg-white h-1.5 rounded-full" style="width: ${Math.floor(Math.random() * 20) + 80}%"></div>
                                        </div>
                                    </div>
                                `).join('')}
                            </div>
                        </section>
                        ` : ''}

                        ${data.certifications.length > 0 ? `
                        <section class="mb-8">
                            <h2 class="text-lg font-bold mb-3 pb-2 border-b border-purple-400">CERTIFICATIONS</h2>
                            <ul class="space-y-2 text-sm">
                                ${data.certifications.map(cert => `
                                    <li class="flex items-start">
                                        <span class="mr-2">‚úì</span>
                                        <span>${cert}</span>
                                    </li>
                                `).join('')}
                            </ul>
                        </section>
                        ` : ''}

                        ${data.languages.length > 0 ? `
                        <section>
                            <h2 class="text-lg font-bold mb-3 pb-2 border-b border-purple-400">LANGUAGES</h2>
                            <ul class="space-y-1 text-sm">
                                ${data.languages.map(lang => `<li>${lang}</li>`).join('')}
                            </ul>
                        </section>
                        ` : ''}
                    </div>

                    <div class="w-2/3 px-10 py-10">
                        ${data.summary ? `
                        <section class="mb-8">
                            <h2 class="text-2xl font-bold text-purple-900 mb-3">PROFILE</h2>
                            <p class="text-gray-700 text-sm leading-relaxed">${data.summary}</p>
                        </section>
                        ` : ''}

                        ${data.experience.length > 0 ? `
                        <section class="mb-8">
                            <h2 class="text-2xl font-bold text-purple-900 mb-4">EXPERIENCE</h2>
                            ${data.experience.map(job => `
                                <div class="mb-5">
                                    <div class="flex justify-between items-baseline mb-1">
                                        <h3 class="font-bold text-gray-900">${job.title}</h3>
                                        <span class="text-gray-600 text-xs">${job.period}</span>
                                    </div>
                                    <p class="text-purple-700 text-sm font-medium mb-2">${job.company}</p>
                                    ${job.achievements.length > 0 ? `
                                    <ul class="space-y-1">
                                        ${job.achievements.map(achievement => `
                                            <li class="text-gray-700 text-xs flex items-start">
                                                <span class="text-purple-600 mr-2">‚Ä¢</span>
                                                <span>${achievement}</span>
                                            </li>
                                        `).join('')}
                                    </ul>
                                    ` : ''}
                                </div>
                            `).join('')}
                        </section>
                        ` : ''}

                        ${data.education.length > 0 ? `
                        <section>
                            <h2 class="text-2xl font-bold text-purple-900 mb-4">EDUCATION</h2>
                            ${data.education.map(edu => `
                                <div class="mb-4">
                                    <h3 class="font-bold text-gray-900 text-sm">${edu.degree}</h3>
                                    <p class="text-purple-700 text-sm">${edu.school}</p>
                                    <p class="text-gray-600 text-xs">${edu.period}${edu.gpa ? ` | ${edu.gpa}` : ''}</p>
                                </div>
                            `).join('')}
                        </section>
                        ` : ''}
                    </div>
                </div>
            `,

            executive: (data) => `
                <div class="bg-white">
                    <div class="bg-black text-white px-12 py-12">
                        <h1 class="text-6xl font-bold mb-3" style="font-family: 'Playfair Display', serif;">${data.personal.name}</h1>
                        <div class="flex items-center gap-6 text-sm border-t border-gray-600 pt-4 mt-4 flex-wrap">
                            <span>${data.personal.email}</span>
                            <span>|</span>
                            <span>${data.personal.phone}</span>
                            <span>|</span>
                            <span>${data.personal.linkedin}</span>
                        </div>
                    </div>

                    <div class="px-12 py-10">
                        ${data.summary ? `
                        <section class="mb-10">
                            <h2 class="text-3xl font-bold text-black mb-4" style="font-family: 'Playfair Display', serif;">Executive Summary</h2>
                            <p class="text-gray-800 text-base leading-relaxed font-medium">${data.summary}</p>
                        </section>
                        ` : ''}

                        ${data.skills.technical.length > 0 ? `
                        <section class="mb-10">
                            <h2 class="text-3xl font-bold text-black mb-4" style="font-family: 'Playfair Display', serif;">Core Competencies</h2>
                            <div class="grid grid-cols-3 gap-4">
                                ${data.skills.technical.map(skill => `
                                    <div class="border-l-4 border-black pl-3 py-1">
                                        <span class="text-gray-800 font-medium text-sm">${skill}</span>
                                    </div>
                                `).join('')}
                            </div>
                        </section>
                        ` : ''}

                        ${data.experience.length > 0 ? `
                        <section class="mb-10">
                            <h2 class="text-3xl font-bold text-black mb-6" style="font-family: 'Playfair Display', serif;">Professional Experience</h2>
                            ${data.experience.map(job => `
                                <div class="mb-8 border-b border-gray-200 pb-6">
                                    <div class="flex justify-between items-start mb-3">
                                        <div>
                                            <h3 class="font-bold text-black text-xl">${job.title}</h3>
                                            <p class="text-gray-700 font-semibold text-base">${job.company} ‚Ä¢ ${job.location}</p>
                                        </div>
                                        <span class="text-gray-600 font-medium">${job.period}</span>
                                    </div>
                                    ${job.achievements.length > 0 ? `
                                    <ul class="space-y-2 mt-3">
                                        ${job.achievements.map(achievement => `
                                            <li class="text-gray-700 flex items-start">
                                                <span class="font-bold mr-3">‚Üí</span>
                                                <span>${achievement}</span>
                                            </li>
                                        `).join('')}
                                    </ul>
                                    ` : ''}
                                </div>
                            `).join('')}
                        </section>
                        ` : ''}

                        <div class="grid grid-cols-2 gap-8">
                            ${data.education.length > 0 ? `
                            <section>
                                <h2 class="text-3xl font-bold text-black mb-4" style="font-family: 'Playfair Display', serif;">Education</h2>
                                ${data.education.map(edu => `
                                    <div class="mb-4">
                                        <h3 class="font-bold text-black text-base">${edu.degree}</h3>
                                        <p class="text-gray-700 font-medium">${edu.school}</p>
                                        <p class="text-gray-600 text-sm">${edu.period}</p>
                                    </div>
                                `).join('')}
                            </section>
                            ` : ''}

                            ${data.certifications.length > 0 ? `
                            <section>
                                <h2 class="text-3xl font-bold text-black mb-4" style="font-family: 'Playfair Display', serif;">Certifications</h2>
                                <ul class="space-y-2">
                                    ${data.certifications.map(cert => `
                                        <li class="text-gray-700 font-medium">${cert}</li>
                                    `).join('')}
                                </ul>
                            </section>
                            ` : ''}
                        </div>
                    </div>
                </div>
            `,

            tech: (data) => `
                <div class="bg-slate-900 text-white">
                    <div class="px-12 py-10 border-b-4 border-cyan-400">
                        <h1 class="text-5xl font-bold mb-2 bg-gradient-to-r from-cyan-400 to-blue-500 text-transparent bg-clip-text">${data.personal.name}</h1>
                        <p class="text-xl text-cyan-400 font-semibold mb-4">${data.personal.title}</p>
                        <div class="flex flex-wrap gap-4 text-sm text-gray-300">
                            <span>üíª ${data.personal.github}</span>
                            <span>üîó ${data.personal.linkedin}</span>
                            <span>üìß ${data.personal.email}</span>
                        </div>
                    </div>

                    <div class="px-12 py-10">
                        ${data.summary ? `
                        <section class="mb-10">
                            <h2 class="text-2xl font-bold text-cyan-400 mb-3 font-mono">// ABOUT_ME</h2>
                            <p class="text-gray-300 leading-relaxed">${data.summary}</p>
                        </section>
                        ` : ''}

                        ${data.skills.technical.length > 0 ? `
                        <section class="mb-10">
                            <h2 class="text-2xl font-bold text-cyan-400 mb-4 font-mono">// TECH_STACK</h2>
                            <div class="grid grid-cols-4 gap-3">
                                ${data.skills.technical.map(skill => `
                                    <div class="bg-slate-800 border border-cyan-400/30 px-3 py-2 rounded hover:border-cyan-400 transition-colors">
                                        <span class="text-cyan-300 text-sm font-medium">${skill}</span>
                                    </div>
                                `).join('')}
                            </div>
                        </section>
                        ` : ''}

                        ${data.experience.length > 0 ? `
                        <section class="mb-10">
                            <h2 class="text-2xl font-bold text-cyan-400 mb-4 font-mono">// WORK_HISTORY</h2>
                            ${data.experience.map(job => `
                                <div class="mb-6 bg-slate-800/50 border-l-4 border-cyan-400 p-5 rounded-r">
                                    <div class="flex justify-between items-start mb-2">
                                        <div>
                                            <h3 class="font-bold text-white text-lg">${job.title}</h3>
                                            <p class="text-cyan-300 font-medium">{${job.company}}</p>
                                        </div>
                                        <span class="text-gray-400 text-sm font-mono">${job.period}</span>
                                    </div>
                                    ${job.achievements.length > 0 ? `
                                    <ul class="space-y-2 mt-3">
                                        ${job.achievements.map(achievement => `
                                            <li class="text-gray-300 text-sm flex items-start">
                                                <span class="text-cyan-400 mr-2 font-mono">></span>
                                                <span>${achievement}</span>
                                            </li>
                                        `).join('')}
                                    </ul>
                                    ` : ''}
                                </div>
                            `).join('')}
                        </section>
                        ` : ''}

                        <div class="grid grid-cols-2 gap-8">
                            ${data.education.length > 0 ? `
                            <section>
                                <h2 class="text-2xl font-bold text-cyan-400 mb-4 font-mono">// EDUCATION</h2>
                                ${data.education.map(edu => `
                                    <div class="mb-4 bg-slate-800/50 p-4 rounded border border-slate-700">
                                        <h3 class="font-bold text-white">${edu.degree}</h3>
                                        <p class="text-gray-400 text-sm">${edu.school}</p>
                                        <p class="text-cyan-400 text-sm font-mono">${edu.period}</p>
                                    </div>
                                `).join('')}
                            </section>
                            ` : ''}

                            ${data.certifications.length > 0 ? `
                            <section>
                                <h2 class="text-2xl font-bold text-cyan-400 mb-4 font-mono">// CERTIFICATIONS</h2>
                                <div class="space-y-2">
                                    ${data.certifications.map(cert => `
                                        <div class="bg-slate-800/50 p-3 rounded border border-slate-700">
                                            <span class="text-gray-300 text-sm">‚úì ${cert}</span>
                                        </div>
                                    `).join('')}
                                </div>
                            </section>
                            ` : ''}
                        </div>

                        ${data.languages.length > 0 ? `
                        <section class="mt-8">
                            <h2 class="text-2xl font-bold text-cyan-400 mb-4 font-mono">// LANGUAGES</h2>
                            <div class="flex flex-wrap gap-3">
                                ${data.languages.map(lang => `
                                    <span class="bg-slate-800 border border-cyan-400/30 px-4 py-2 rounded text-gray-300 text-sm">${lang}</span>
                                `).join('')}
                            </div>
                        </section>
                        ` : ''}
                    </div>
                </div>
            `
        };

        // Update Preview
        function updatePreview() {
            const data = collectFormData();
            const template = document.getElementById('templateSelector').value;
            document.getElementById('resumePreview').innerHTML = templates[template](data);
        }

        // Save Data to memory
        function saveData() {
            const data = collectFormData();
            const dataStr = JSON.stringify({
                formData: data,
                counts: {
                    experience: experienceCount,
                    education: educationCount,
                    certification: certificationCount
                },
                template: document.getElementById('templateSelector').value
            });
            
            // Create a blob and download
            const blob = new Blob([dataStr], { type: 'application/json' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'resume-draft.json';
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
            
            alert('‚úÖ Resume draft saved! You can load this file later.');
        }

        // Load Data (you can add a file input to trigger this)
        function loadData(jsonData) {
            const parsed = JSON.parse(jsonData);
            
            // Reset form first
            document.getElementById('resumeForm').reset();
            document.getElementById('experienceContainer').innerHTML = '';
            document.getElementById('educationContainer').innerHTML = '';
            document.getElementById('certificationContainer').innerHTML = '';
            
            experienceCount = 0;
            educationCount = 0;
            certificationCount = 0;
            
            // Load personal info
            document.querySelector('[name="name"]').value = parsed.formData.personal.name;
            document.querySelector('[name="title"]').value = parsed.formData.personal.title;
            document.querySelector('[name="email"]').value = parsed.formData.personal.email;
            document.querySelector('[name="phone"]').value = parsed.formData.personal.phone;
            document.querySelector('[name="website"]').value = parsed.formData.personal.website;
            document.querySelector('[name="linkedin"]').value = parsed.formData.personal.linkedin;
            document.querySelector('[name="github"]').value = parsed.formData.personal.github;
            document.querySelector('[name="summary"]').value = parsed.formData.summary;
            document.querySelector('[name="skills"]').value = parsed.formData.skills.technical.join(', ');
            document.querySelector('[name="languages"]').value = parsed.formData.languages.join(', ');
            
            // Load experiences
            parsed.formData.experience.forEach(exp => {
                addExperience();
                document.querySelector(`[name="exp_title_${experienceCount}"]`).value = exp.title;
                document.querySelector(`[name="exp_company_${experienceCount}"]`).value = exp.company;
                document.querySelector(`[name="exp_period_${experienceCount}"]`).value = exp.period;
                document.querySelector(`[name="exp_location_${experienceCount}"]`).value = exp.location;
                document.querySelector(`[name="exp_achievements_${experienceCount}"]`).value = exp.achievements.join('\n');
            });
            
            // Load education
            parsed.formData.education.forEach(edu => {
                addEducation();
                document.querySelector(`[name="edu_degree_${educationCount}"]`).value = edu.degree;
                document.querySelector(`[name="edu_school_${educationCount}"]`).value = edu.school;
                document.querySelector(`[name="edu_period_${educationCount}"]`).value = edu.period;
                document.querySelector(`[name="edu_gpa_${educationCount}"]`).value = edu.gpa;
                document.querySelector(`[name="edu_details_${educationCount}"]`).value = edu.details.join('\n');
            });
            
            // Load certifications
            parsed.formData.certifications.forEach(cert => {
                addCertification();
                document.querySelector(`[name="cert_${certificationCount}"]`).value = cert;
            });
            
            // Load template
            document.getElementById('templateSelector').value = parsed.template;
            
            updatePreview();
        }

        // Reset Form
        function resetForm() {
            if (confirm('‚ö†Ô∏è Are you sure you want to reset the form? All unsaved data will be lost.')) {
                document.getElementById('resumeForm').reset();
                document.getElementById('experienceContainer').innerHTML = '';
                document.getElementById('educationContainer').innerHTML = '';
                document.getElementById('certificationContainer').innerHTML = '';
                experienceCount = 0;
                educationCount = 0;
                certificationCount = 0;
                
                // Re-initialize with one entry each
                addExperience();
                addEducation();
                addCertification();
                updatePreview();
            }
        }

        // Export to PDF (Browser Print)
        function exportPDF() {
            window.print();
        }

        // Event Listeners
        document.getElementById('resumeForm').addEventListener('input', updatePreview);
        document.getElementById('templateSelector').addEventListener('change', updatePreview);

        // Initialize with one entry each
        window.addEventListener('DOMContentLoaded', () => {
            addExperience();
            addEducation();
            addCertification();
            updatePreview();
        });
    </script>
</body>
</html>